# –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∏ —á–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ Zapret –¥–ª—è YouTube

## ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–´–ï –ü–†–ò–ú–ï–†–´

### –ü—Ä–∞–≤–∏–ª—å–Ω–æ: –ü—Ä–æ—Å—Ç–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è
```bash
NFQWS_OPT_DESYNC="--dpi-desync=split2"
```

### –ü—Ä–∞–≤–∏–ª—å–Ω–æ: –° QUIC
```bash
NFQWS_OPT_DESYNC="--dpi-desync=split2"
NFQWS_OPT_DESYNC_QUIC="--dpi-desync=fake --dpi-desync-repeats=6"
```

### –ü—Ä–∞–≤–∏–ª—å–Ω–æ: –° –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
```bash
NFQWS_OPT_DESYNC="--dpi-desync=multidisorder --dpi-desync-split-pos=1,midsld --dpi-desync-repeats=2 --dpi-desync-fooling=badseq"
```

### –ü—Ä–∞–≤–∏–ª—å–Ω–æ: –° –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏ (--new —Ä–∞–∑–¥–µ–ª—è–µ—Ç –∏—Ö)
```bash
NFQWS_OPT_DESYNC="--filter-tcp=443 --dpi-desync=split2 --new --filter-tcp=80 --dpi-desync=fake"
```

### –ü—Ä–∞–≤–∏–ª—å–Ω–æ: –ü–æ–ª–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```bash
MODE=nfqws
MODE_HTTP=0
MODE_HTTPS=1
MODE_QUIC=1
MODE_FILTER=hostlist

NFQWS_OPT_DESYNC="--dpi-desync=multidisorder --dpi-desync-split-pos=1,midsld --dpi-desync-repeats=2"
NFQWS_OPT_DESYNC_QUIC="--dpi-desync=fake --dpi-desync-repeats=6"
```

---

## ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–´–ï –ü–†–ò–ú–ï–†–´ (–û–®–ò–ë–ö–ò)

### –û–®–ò–ë–ö–ê #1: –ó–∞–±—ã–ª–∏ –∫–∞–≤—ã—á–∫–∏
```bash
‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:
NFQWS_OPT_DESYNC=--dpi-desync=split2

‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:
NFQWS_OPT_DESYNC="--dpi-desync=split2"
```

### –û–®–ò–ë–ö–ê #2: –ü—Ä–æ–ø—É—Å—Ç–∏–ª–∏ —Ñ–ª–∞–≥ --new –º–µ–∂–¥—É —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏
```bash
‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:
NFQWS_OPT_DESYNC="--filter-tcp=443 --dpi-desync=split2 --filter-tcp=80 --dpi-desync=fake"

‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:
NFQWS_OPT_DESYNC="--filter-tcp=443 --dpi-desync=split2 --new --filter-tcp=80 --dpi-desync=fake"
```
–ë–µ–∑ `--new` –≤—Ç–æ—Ä–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –ø—Ä–æ—Å—Ç–æ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è!

### –û–®–ò–ë–ö–ê #3: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å split-pos
```bash
‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:
--dpi-desync-split-pos=1 midsld

‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:
--dpi-desync-split-pos=1; midsld

‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:
--dpi-desync-split-pos=1,midsld
```
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ó–ê–ü–Ø–¢–£–Æ, –Ω–µ –ø—Ä–æ–±–µ–ª, –Ω–µ —Ç–æ—á–∫—É —Å –∑–∞–ø—è—Ç–æ–π!

### –û–®–ò–ë–ö–ê #4: –ü—Ä–æ–±–µ–ª—ã –≤–Ω—É—Ç—Ä–∏ –∑–Ω–∞—á–µ–Ω–∏—è
```bash
‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:
--dpi-desync-split-seqovl-pattern = /opt/zapret/files/fake/tls_clienthello_www_google_com.bin

‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:
--dpi-desync-split-seqovl-pattern=/opt/zapret/files/fake/tls_clienthello_www_google_com.bin
```

### –û–®–ò–ë–ö–ê #5: –ó–∞–±—ã–ª–∏ –≤–µ—Å—å –ø–∞—Ä–∞–º–µ—Ç—Ä –ø–æ—Å–ª–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```bash
‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:
NFQWS_OPT_DESYNC="--dpi-desync=multidisorder --dpi-desync-split-pos=1,midsld --dpi-desync-repeats"
# –ü–∞—Ä–∞–º–µ—Ç—Ä --dpi-desync-repeats –Ω–µ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è!

‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:
NFQWS_OPT_DESYNC="--dpi-desync=multidisorder --dpi-desync-split-pos=1,midsld --dpi-desync-repeats=2"
```

### –û–®–ò–ë–ö–ê #6: –°–º–µ—à–∞–ª–∏ —Ä–∞–∑–Ω—ã–µ –≤–∞—Ä–∏–∞—Ü–∏–∏ split-pos
```bash
‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:
--dpi-desync-split-pos=1,midsld,host+5,sld-1

‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û (–µ—Å–ª–∏ —Ö–æ—á–µ—Ç—Å—è –≤—Å—ë):
--dpi-desync-split-pos=1,midsld,endhost-1
# –ù–æ —ç—Ç–æ –û–ß–ï–ù–¨ –Ω–∞–≥—Ä—É–∂–∞–µ—Ç —Ä–æ—É—Ç–µ—Ä! –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∞–∫—Å–∏–º—É–º 2-3 –ø–æ–∑–∏—Ü–∏–∏.
```

### –û–®–ò–ë–ö–ê #7: –°–ª—É—á–∞–π–Ω—ã–µ —Å–∫–æ–±–∫–∏ –∏–ª–∏ —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã
```bash
‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:
NFQWS_OPT_DESYNC="--dpi-desync=multidisorder --dpi-desync-split-pos=(1,midsld)"

‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:
NFQWS_OPT_DESYNC="--dpi-desync=multidisorder --dpi-desync-split-pos=1,midsld"
```

### –û–®–ò–ë–ö–ê #8: –û—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è repeats
```bash
‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û (–¥–ª—è TP-Link EC220):
--dpi-desync-repeats=50
--dpi-desync-repeats=100

‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:
--dpi-desync-repeats=2
--dpi-desync-repeats=6
# –ú–∞–∫—Å–∏–º—É–º –¥–ª—è –≤–∞—à–µ–≥–æ —Ä–æ—É—Ç–µ—Ä–∞: 8-10
```

### –û–®–ò–ë–ö–ê #9: –ó–∞–±—ã–ª–∏ —Ñ–ª–∞–≥ –≤ –¥–ª–∏–Ω–Ω–æ–º –∑–Ω–∞—á–µ–Ω–∏–∏
```bash
‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:
--dpi-desync-fake-tls-mod=rnd,dupsid,sni www.google.com

‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:
--dpi-desync-fake-tls-mod=rnd,dupsid,sni=www.google.com
```
–ü–µ—Ä–µ–¥ `www.google.com` –Ω—É–∂–µ–Ω –∑–Ω–∞–∫ —Ä–∞–≤–µ–Ω—Å—Ç–≤–∞!

### –û–®–ò–ë–ö–ê #10: –î–≤–æ–π–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏ –≤–Ω—É—Ç—Ä–∏ –∑–Ω–∞—á–µ–Ω–∏—è
```bash
‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:
NFQWS_OPT_DESYNC="--dpi-desync=fake "multidisorder" --dpi-desync-repeats=2"

‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:
NFQWS_OPT_DESYNC="--dpi-desync=fake,multidisorder --dpi-desync-repeats=2"
```

---

## üìã –ß–ï–ö–õ–ò–°–¢ –ü–ï–†–ï–î –°–û–•–†–ê–ù–ï–ù–ò–ï–ú

- [ ] –ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `NFQWS_OPT_DESYNC=`
- [ ] –í—Å—è —Å—Ç—Ä–æ–∫–∞ –æ–±–µ—Ä–Ω—É—Ç–∞ –≤ **–¥–≤–æ–π–Ω—ã–µ –∫–∞–≤—ã—á–∫–∏** `"`
- [ ] –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞–∑–¥–µ–ª–µ–Ω—ã **–ø—Ä–æ–±–µ–ª–∞–º–∏** (–Ω–µ –∑–∞–ø—è—Ç—ã–º–∏!)
- [ ] –ó–Ω–∞—á–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å–≤—è–∑–∞–Ω—ã —Å–æ —Å–≤–æ–∏–º —Ñ–ª–∞–≥–æ–º —á–µ—Ä–µ–∑ **=** (–±–µ–∑ –ø—Ä–æ–±–µ–ª–∞)
- [ ] –ï—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–∑–∏—Ü–∏–π –≤ split-pos - –æ–Ω–∏ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã **–∑–∞–ø—è—Ç—ã–º–∏** (–Ω–µ –ø—Ä–æ–±–µ–ª–∞–º–∏!)
- [ ] –ï—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π - –º–µ–∂–¥—É –Ω–∏–º–∏ **--new**
- [ ] –§–∞–π–ª—ã —Å—É—â–µ—Å—Ç–≤—É—é—Ç `/opt/zapret/files/fake/tls_clienthello_www_google_com.bin`
- [ ] –ù–µ—Ç —Å–ª—É—á–∞–π–Ω—ã—Ö —Å–∫–æ–±–æ–∫, —Ç–æ—á–µ–∫, —Å–ª–µ—à–µ–π –≤ –∫–æ–Ω—Ü–µ
- [ ] repeats –Ω–µ –±–æ–ª—å—à–µ 8 (–¥–ª—è –≤–∞—à–µ–≥–æ —Ä–æ—É—Ç–µ—Ä–∞!)

---

## üîß –ö–ê–ö –ü–†–ê–í–ò–õ–¨–ù–û –†–ï–î–ê–ö–¢–ò–†–û–í–ê–¢–¨ –ß–ï–†–ï–ó SSH

```bash
# 1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å
ssh admin@192.168.0.1

# 2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ vi –∏–ª–∏ nano)
vi /opt/zapret/config

# 3. –í vi:
# - –ù–∞–∂–º–∏—Ç–µ i (—á—Ç–æ–±—ã –≤–æ–π—Ç–∏ –≤ —Ä–µ–∂–∏–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
# - –ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É NFQWS_OPT_DESYNC=...
# - –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ (Ctrl+U –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Å—Ç—Ä–æ–∫–∏)
# - –í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
# - –ù–∞–∂–º–∏—Ç–µ ESC
# - –í–≤–µ–¥–∏—Ç–µ :wq (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏ –≤—ã—Ö–æ–¥–∏—Ç)

# 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
cat /opt/zapret/config | grep NFQWS_OPT_DESYNC

# 5. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
/etc/init.d/zapret restart

# 6. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—à–∏–±–∫–∏
/etc/init.d/zapret status
logread | tail -20
```

---

## üéØ –ë–´–°–¢–†–ê–Ø –ü–†–û–í–ï–†–ö–ê –°–ò–ù–¢–ê–ö–°–ò–°–ê

–ü–æ—Å–ª–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç, —á—Ç–æ –∫–æ–Ω—Ñ–∏–≥ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
/usr/bin/nfqws --help > /dev/null 2>&1 && echo "OK" || echo "–û–®–ò–ë–ö–ê"

# –ü–æ–∫–∞–∂–µ—Ç –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –æ–ø—Ü–∏–∏
/usr/bin/nfqws --help

# –ü–æ–ø—Ä–æ–±—É–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤–∞—à—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (–ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞)
/etc/init.d/zapret restart
```

---

## üö® –¢–ò–ü–ò–ß–ù–´–ï –û–®–ò–ë–ö–ò –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–ò

### –ü—Ä–æ–±–ª–µ–º–∞: "Unknown option"
```
–ü—Ä–∏—á–∏–Ω–∞: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ: –ü–∞—Ä–∞–º–µ—Ç—Ä –Ω–∞–ø–∏—Å–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ? (--dpi-desync –∏–ª–∏ --dpi_desync?)
```

### –ü—Ä–æ–±–ª–µ–º–∞: "No positional argument after..."
```
–ü—Ä–∏—á–∏–Ω–∞: –ó–∞–±—ã–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ—Å–ª–µ --
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ: --dpi-desync-repeats=2 (–Ω–µ –∑–∞–±—ã–ª–∏ —á–∏—Å–ª–æ?)
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Failed to parse..."
```
–ü—Ä–∏—á–∏–Ω–∞: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∑–Ω–∞—á–µ–Ω–∏—è
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ: split-pos —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –∑–∞–ø—è—Ç–æ–π? (--dpi-desync-split-pos=1,midsld)
```

### –ü—Ä–æ–±–ª–µ–º–∞: –†–æ—É—Ç–µ—Ä –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ YouTube
```
–ü—Ä–∏—á–∏–Ω–∞: –°–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∏–µ repeats –∏–ª–∏ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –ø–æ–∑–∏—Ü–∏–π split
–†–µ—à–µ–Ω–∏–µ: –£–º–µ–Ω—å—à–∏—Ç–µ --dpi-desync-repeats –Ω–∞ 2
         –£–º–µ–Ω—å—à–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–∑–∏—Ü–∏–π –≤ split-pos –¥–æ 2-3
```

---

## üìö –°–ü–†–ê–í–û–ß–ù–ò–ö –ü–ê–†–ê–ú–ï–¢–†–û–í

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ü—Ä–∏–º–µ—Ä | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç |
|----------|--------|-----------|
| `--dpi-desync` | `split2`, `fake`, `multidisorder` | –ú–µ—Ç–æ–¥ –æ–±—Ö–æ–¥–∞ |
| `--dpi-desync-split-pos` | `1,midsld` | –ì–¥–µ —Ä–∞–∑–±–∏–≤–∞—Ç—å –ø–∞–∫–µ—Ç |
| `--dpi-desync-repeats` | `6` | –°–∫–æ–ª—å–∫–æ —Ä–∞–∑ –ø–æ–≤—Ç–æ—Ä—è—Ç—å |
| `--dpi-desync-fooling` | `badseq`, `md5sig` | –ö–∞–∫ –æ–±–º–∞–Ω—ã–≤–∞—Ç—å DPI |
| `--dpi-desync-autottl` | `2:2-12` | –ê–≤—Ç–æ–ø–æ–¥–±–æ—Ä TTL |
| `--dpi-desync-fake-tls` | `/path/to/file` | –§–∞–π–ª —Å –ø–æ–¥–¥–µ–ª—å–Ω—ã–º TLS |
| `--dpi-desync-fake-tls-mod` | `rnd,dupsid,sni=google.com` | –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ TLS |

---

## ‚ú® –ü–†–ò–ú–ï–†–´ –†–ê–ó–ù–´–• –°–¶–ï–ù–ê–†–ò–ï–í

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```bash
NFQWS_OPT_DESYNC="--dpi-desync=split2"
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –î–ª—è –∫–æ–º–ø—å—é—Ç–µ—Ä–∞ (–º–æ–∂–Ω–æ —Å–ª–æ–∂–Ω–µ–µ)
```bash
NFQWS_OPT_DESYNC="--dpi-desync=fake,multidisorder --dpi-desync-split-pos=1,midsld --dpi-desync-repeats=3 --dpi-desync-fooling=badseq"
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –î–ª—è Smart TV (–±–æ–ª–µ–µ –º—è–≥–∫–∞—è)
```bash
NFQWS_OPT_DESYNC="--dpi-desync=split2 --dpi-desync-split-pos=1"
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –ï—Å–ª–∏ YouTube –æ—á–µ–Ω—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
```bash
NFQWS_OPT_DESYNC="--dpi-desync=fake,multidisorder --dpi-desync-split-pos=1,midsld --dpi-desync-repeats=2 --dpi-desync-fooling=badseq,md5sig"
NFQWS_OPT_DESYNC_QUIC="--dpi-desync=fake --dpi-desync-repeats=6"
```

